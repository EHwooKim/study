<script src="fx.js"></script>
<script>
  /*
    # 함수 합성 관점에서의 Promise
    - Promise는 비동기 상황에서 함수 합성을 안전하게 하기위한 도구이다.
    - 비동기 값을 가지고 연속적인 함수 실행을 안전하게 하는 모나드라고 설명할 수도 있다.
    - 모나드?
  */
  /*
    - f . g 와 같은 합성 함수가 있으면 인자가 g 함수에 적용되고 그 실행 결과가 f에 전달되어 결과를 만들어낸다.
    - 즉, f(g(x)) 
    - 이떄 상황에 따라 안전하게 합성할수있게 하기 위해 모나드라는 개념이 있고 그 중 비동기 상황에서 안전하게 해주는 것이 Promise이다.
  */
  /*
    - js는 동적타입언어이고 타입을 중심적으로 사고하며 프로그래밍하는 언어가 아니기 때문에 모나드 등이 잘 묻어나지 않는 경향이 있기 때문에
    - js에서는 모나드를 직접적으로 활용하여 프로그래밍을 잘하지는 않는다. 
    - 그래도 모나드에 대해 어느정도 알고있으면 도움이 되기에 이번에 설명을 해본다.
  */

  // ** 결국 모나드는 함수 합성을 안전하게 하기위한 도구이다!!!
</script>

<script>
  // 모나드는 [1] 이런 box(container)에 값이 들어있고 이 값을 통해 함수합성들을 안전하게 해나가는 것이다.
  const g = a => a + 1
  const f = a => a * a

  log(f(g(1))) // 정상 작동
  log(f(g())) // 비정상 작동, 잘못된 값이 들어왔음에도 log가 실행이 되어 무의미하다..

  // 모나드는 박스이고 그 박스 안에 효과, 연산에 필요한 재료를 가지고 있으며 함수합성을 이 박스가 가지고있는 메서드를 통해서 한다.
  []
</script>