<script src="fx.js"></script>
<script>
  /*
    # Promise
    ## 일급
  */
</script>
<script>
  // callback 패턴
  function add10(a, callback) {
    setTimeout(() => callback(a + 10), 500)
  }
  add10(5, res => {
    log(res)
  })

  add10(5, res => {
    add10(res, res => {
      add10(res, res => {  // callback 지옥
        log(res)
      })
    })
  })

  // Promise 활용
  function add20(a) { // 프로미스의 경우 이 함수에서 사용하 인자 하나만 받는다
    return new Promise(resolve => setTimeout(() => resolve(a + 20), 500)) // resolve를 받아 setTimeout을 하고 계산 후 resolve가 실행하면서 프로미스가 끝났음을 알린다.
    // add10과 큰 차이 중 하나인 return!! add20은 promise를 만들어서 return 해주는데 이것이 굉장히 중요하다.
  }
  add20(5)
    .then(log)

  add20(5)
    .then(add20) // promise는 이러한 연속된 사용에 굉장히 유용하다. 
    .then(add20)
    .then(log)
</script>
