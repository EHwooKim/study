<script src="fx.js"></script>
<script src="fx2.js"></script>
<script>
  /*
    ## 결과를 만드는 함수 reduce, take
  */

  /*
    ### reduce
    - 이터러블, 배열의 값을 꺼내어 결과 값을 만들어내는, 이터러블, 배열의 형태를 꺠는 함수
    - map, filter와 다르게 연산을 시작하는 시작점을 알리는 함수라 할 수 있다.
    (함수에서 map, filter를 반복하다가 특정 지점에서 reduce와 같은 함수로 연산을 하여 함수를 종료 또는 다음 로직으로 넘어가는 역할)
  */
  
  // 객체로부터 url의 queryString을 만드는 코드를 만들어보자
  // const queryStr = obj => go(
  //   obj,
  //   Object.entries, 
  //   map(([k, v]) => `${k}=${v}`),
  //   reduce((a, b) => `${a}&${b}`)
  // )

  // obj 를 받아 obj를 그대로 보내니 pipe 적용 가능 하겠지
  const queryStr = pipe( // 값을 시작으로
    Object.entries, 
    map(([k, v]) => `${k}=${v}`), // 값을 변경하고 
    reduce((a, b) => `${a}&${b}`) // reduce로 축약하여 결과를 완성짓는다.
  )

  log(queryStr({ limit: 10, offset: 10, type: 'notice' }))
  



  /*
    ### take
    - 약속한 개수만큼 값을 yield하는 식으로 지연성을 줄 수도 있지만.
    - 임의의 개수의 배열에서 특정 개수의 배열로 완성지어버리는 성질을 가지고 있기에 take로 지연성을 가지기보다 take를 하는 시점에 연산에 이루어지는 것이 좋다.
  */
</script>